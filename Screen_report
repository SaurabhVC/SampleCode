REPORT ZTEST_1284_1.

*BREAK-POINT.
* A> LOAD OF PROGRAM
load-OF-PROGRAM.
DATA : a TYPE char10 VALUE '00000001'.

*B> INITIALIZATION
INITIALIZATION.
DATA : b TYPE matnr VALUE '00000002'.

DATA: BEGIN OF IT_FINAL OCCURS 0,
      matnr TYPE matnr,
      END OF IT_FINAL.

DATA: IT_RETURN LIKE DDSHRETVAL OCCURS 0 WITH HEADER LINE.

PARAMETERS : matnr TYPE char10.
PARAMETERS : matnr1 TYPE matnr.

AT SELECTION-SCREEN OUTPUT.
  LOOP AT SCREEN.

    if screen-name = 'MATNR'.
      matnr = a.
    endif.

    IF screen-name = 'MATNR1'.
      screen-active = 0 .
    ENDIF.

    MODIFY SCREEN.
    CONTINUE.
  endloop.

AT SELECTION-SCREEN.
  IF MATNR NE A.
    MESSAGE 'INPUT CHANGED' TYPE 'I'.
    EXIT.
  ENDIF.

AT SELECTION-SCREEN ON VALUE-REQUEST FOR matnr .

select matnr
  FROM mara
  into TABLE IT_FINAL
  UP TO 20 ROWS.

  CALL FUNCTION 'F4IF_INT_TABLE_VALUE_REQUEST'
    EXPORTING
*     DDIC_STRUCTURE         = ' '
      RETFIELD               = 'matnr'
*     PVALKEY                = ' '
*     DYNPPROG               = ' '
*     DYNPNR                 = ' '
*     DYNPROFIELD            = ' '
*     STEPL                  = 0
*     WINDOW_TITLE           =
*     VALUE                  = ' '
*     VALUE_ORG              = 'C'
*     MULTIPLE_CHOICE        = ' '
*     DISPLAY                = ' '
*     CALLBACK_PROGRAM       = ' '
*     CALLBACK_FORM          = ' '
*     CALLBACK_METHOD        =
*     MARK_TAB               =
*   IMPORTING
*     USER_RESET             =
    TABLES
      VALUE_TAB              = IT_FINAL
*     FIELD_TAB              =
     RETURN_TAB             =  IT_RETURN
*     DYNPFLD_MAPPING        =
*   EXCEPTIONS
*     PARAMETER_ERROR        = 1
*     NO_VALUES_FOUND        = 2
*     OTHERS                 = 3
            .
  IF SY-SUBRC <> 0.
* Implement suitable error handling here
  ENDIF.


  CLEAR : A, B.
