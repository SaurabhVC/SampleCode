REPORT ZTEST_1284_1.

*BREAK-POINT.
* A> LOAD OF PROGRAM
load-OF-PROGRAM.
DATA : a TYPE char10 VALUE '00000001'.

*B> INITIALIZATION
INITIALIZATION.
DATA : b TYPE matnr VALUE '00000002'.

DATA: BEGIN OF IT_FINAL OCCURS 0,
      matnr TYPE matnr,
      END OF IT_FINAL.

DATA: IT_RETURN LIKE DDSHRETVAL OCCURS 0 WITH HEADER LINE.

PARAMETERS : matnr TYPE char10.
PARAMETERS : matnr1 TYPE matnr.

AT SELECTION-SCREEN OUTPUT.
  LOOP AT SCREEN.

    if screen-name = 'MATNR'.
      matnr = a.
    endif.

    IF screen-name = 'MATNR1'.
      screen-active = 0 .
    ENDIF.

    MODIFY SCREEN.
    CONTINUE.
  endloop.

AT SELECTION-SCREEN.
  IF MATNR NE A.
    MESSAGE 'INPUT CHANGED' TYPE 'I'.
    EXIT.
  ENDIF.

AT SELECTION-SCREEN ON VALUE-REQUEST FOR matnr .

select matnr
  FROM mara
  into TABLE IT_FINAL
  UP TO 20 ROWS.

  CALL FUNCTION 'F4IF_INT_TABLE_VALUE_REQUEST'
    EXPORTING
      RETFIELD               = 'matnr'
      VALUE_ORG              = 'S'
    TABLES
      VALUE_TAB              = IT_FINAL
.
